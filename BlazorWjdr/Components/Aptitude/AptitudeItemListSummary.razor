@code {
    [Parameter, EditorRequired] public AptitudeDto[] Aptitudes { get; set; } = null!;
    [Parameter] public bool CompetencesAvanceesUniquement { get; set; }
    [Parameter] public bool GrosTitres { get; set; }

    private AptitudeDto[] _competences = null!;
    private AptitudeDto[] _talents = null!;
    private AptitudeDto[] _traits = null!;
    private string HeaderClass = "h5";

    protected override void OnParametersSet()
    {
        _competences = Aptitudes.Where(a => a.Categ == "skill" && (!CompetencesAvanceesUniquement || !a.EstUneCompetenceDeBase))
            .OrderBy(a => a.NomComplet).ToArray();
        _talents = Aptitudes.Where(a => a.Categ == "talent").OrderBy(a => a.NomComplet).ToArray();
        _traits = Aptitudes.Where(a => a.Categ == "trait").OrderBy(a => a.NomComplet).ToArray();
        HeaderClass = GrosTitres ? "h5" : "h4";
    }
}
@if (_competences.Any())
{
    <span class="@HeaderClass">Compétences</span>
    <p><AptitudeItemList Items=@_competences /></p>
}
@if (_talents.Any())
{
    <span class="@HeaderClass">Talents</span>
    <p><AptitudeItemList Items=@_talents /></p>
}
@if (_traits.Any())
{
    <span class="@HeaderClass">Traits</span>
    <p><AptitudeItemList Items=@_traits /></p>
}
